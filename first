<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>心電感應測試 v2.0</title>
    <style>
        body { margin: 0; background: #000; color: #00ff00; font-family: 'Courier New', Courier, monospace; display: flex; justify-content: center; align-items: center; height: 100vh; overflow: hidden; }
        #game-ui { text-align: center; width: 100%; }
        #ecg-monitor { width: 100%; height: 200px; margin-bottom: 20px; }
        .ecg-line { stroke: #00ff00; stroke-width: 2; fill: none; stroke-dasharray: 1000; stroke-dashoffset: 1000; animation: dash 3s linear infinite; }
        @keyframes dash { to { stroke-dashoffset: 0; } }
        
        #heart-btn { width: 80px; height: 80px; fill: #ff0000; cursor: pointer; filter: drop-shadow(0 0 10px #ff0000); animation: pulse 1s infinite; transition: transform 0.1s; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        
        #stats { font-size: 1.5rem; margin-top: 20px; text-shadow: 0 0 5px #00ff00; }
        #message { display: none; text-align: left; padding: 30px; border: 2px solid #00ff00; box-shadow: 0 0 20px #00ff00; background: rgba(0, 40, 0, 0.8); max-width: 80%; animation: glitch 0.5s; }
        @keyframes glitch { 0% { transform: translate(2px,0); } 50% { transform: translate(-2px,0); } 100% { transform: translate(0); } }
        p { margin: 10px 0; line-height: 1.6; }
    </style>
</head>
<body>

<div id="game-ui">
    <div id="stats">心跳頻率 (BPM): <span id="bpm">75</span></div>
    
    <svg id="ecg-monitor" viewBox="0 0 800 200">
        <path class="ecg-line" d="M0,100 L100,100 L110,80 L120,120 L130,100 L250,100 L260,40 L275,160 L290,100 L400,100 L410,80 L420,120 L430,100 L600,100 L610,40 L625,160 L640,100 L800,100" />
    </svg>

    <div id="target" onclick="triggerBeat()">
        <svg id="heart-btn" viewBox="0 0 32 32">
            <path d="M16 28.21s-1.49-1.39-4.63-4.28C6.07 18.99 2 15.36 2 10.5 2 6.36 5.36 3 9.5 3c2.49 0 4.74 1.21 6.12 3.08C17.01 4.21 19.26 3 21.5 3 25.64 3 29 6.36 29 10.5c0 4.86-4.07 8.49-9.37 13.43-3.14 2.89-4.63 4.28-4.63 4.28z"/>
        </svg>
    </div>
    <p style="margin-top:20px; opacity: 0.7;">[ 系統狀態：偵測中... 請連續點擊心臟確認感應 ]</p>
</div>

<div id="message">
    <p>>>> 警告：心動值溢出！</p>
    <p>>>> 偵測到唯一匹配對象：你。</p>
    <hr style="border: 1px solid #00ff00;">
    <p>其實，這個測試程式是我寫給你的。</p>
    <p>我的心跳從遇見你開始就一直不太穩定，</p>
    <p>剛剛你點擊的每一下，都是我對你的心動。</p>
    <p><b>現在，你可以抬頭給我一個答案嗎？</b></p>
</div>

<script>
    let clicks = 0;
    let bpm = 75;
    const bpmEl = document.getElementById('bpm');
    const heart = document.getElementById('heart-btn');
    const gameUI = document.getElementById('game-ui');
    const message = document.getElementById('message');
    const ecgLine = document.querySelector('.ecg-line');

    function triggerBeat() {
        clicks++;
        bpm += 5;
        bpmEl.innerText = bpm;
        
        // 視覺反饋：點擊時心臟放大
        heart.style.transform = "scale(1.3)";
        setTimeout(() => heart.style.transform = "scale(1)", 100);

        // 心跳越快，動畫越快
        let speed = Math.max(0.5, 3 - (clicks * 0.2));
        ecgLine.style.animationDuration = speed + "s";
        heart.style.animationDuration = speed / 2 + "s";

        if (clicks > 15) {
            gameUI.style.display = 'none';
            message.style.display = 'block';
        }
    }
</script>
</body>
</html>
