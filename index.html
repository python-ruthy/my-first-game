<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heartbeat Test</title>
    <style>
        body { margin: 0; background: #000; color: #00ff88; font-family: monospace; display: flex; justify-content: center; align-items: center; height: 100vh; overflow: hidden; }
        #game-ui { text-align: center; }
        #bpm-display { font-size: 40px; margin-bottom: 20px; }
        #heart-btn { width: 100px; height: 100px; fill: #ff2d55; cursor: pointer; transition: transform 0.1s; }
        #message { display: none; text-align: center; padding: 20px; border: 2px solid #00ff88; max-width: 80%; line-height: 1.8; }
        .hint { color: #444; margin-top: 20px; font-size: 14px; }
    </style>
</head>
<body onclick="playGame()">

<div id="game-ui">
    <div id="bpm-display">BPM: <span id="bpm-val">--</span></div>
    <svg id="heart-btn" viewBox="0 0 32 32">
        <path d="M16 28.21s-1.49-1.39-4.63-4.28C6.07 18.99 2 15.36 2 10.5 2 6.36 5.36 3 9.5 3c2.49 0 4.74 1.21 6.12 3.08C17.01 4.21 19.26 3 21.5 3 25.64 3 29 6.36 29 10.5c0 4.86-4.07 8.49-9.37 13.43-3.14 2.89-4.63 4.28-4.63 4.28z"/>
    </svg>
    <p class="hint">[ 點擊螢幕開始測試 ]</p>
</div>

<div id="message">
    <p style="color:#ff2d55">警告：頻率異常</p>
    <p>這不是遊戲 Bug</p>
    <p>是我對你心動的聲音</p>
    <p><b>你願意跟我在一起嗎？</b></p>
</div>

<audio id="bgm" loop>
    <source src="https://www.chosic.com/wp-content/uploads/2021/04/And-So-It-Begins-Inspired-By-Lofi-Girl.mp3" type="audio/mpeg">
</audio>

<script>
    let clicks = 0;
    let bpm = 70;
    function playGame() {
        clicks++;
        const audio = document.getElementById('bgm');
        if(clicks === 1) { audio.play().catch(e => console.log(e)); }
        
        document.getElementById('heart-btn').style.transform = "scale(1.2)";
        setTimeout(() => { document.getElementById('heart-btn').style.transform = "scale(1)"; }, 100);
        
        bpm += Math.floor(Math.random() * 5) + 2;
        document.getElementById('bpm-val').innerText = bpm;

        if (clicks > 12) {
            document.getElementById('game-ui').style.display = 'none';
            document.getElementById('message').style.display = 'block';
        }
    }
</script>
</body>
</html>
